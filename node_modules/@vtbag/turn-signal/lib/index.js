"use strict";(()=>{var c=document.currentScript;function u(t){let a=t.type==="pageswap"?t.activation:navigation?.activation;if(t.viewTransition&&a){let l=function(){let e=["backward","same","forward"],i,o=c.dataset.directionAttribute;if(o){if(e=o.trim().split(/\s*,\s*/),e.length!==4){console.error(`[turn-signal] syntax error: data-direction-attribute value "${o}" does not match "attributeName, backwardValue, sameValue, forwardValue"`);return}let d=e.shift();i=n<r?e[0]:n===r?e[1]:e[2],d&&i&&(document.documentElement.setAttribute(d,i),t.viewTransition.finished.then(()=>document.documentElement.removeAttribute(d)))}if(e=["backward","same","forward"],o=c.dataset.directionTypes,o&&(e=o.trim().split(/\s*,\s*/),e.length!==3)){console.error(`[turn-signal] syntax error: data-direction-types value "${o}" does not match "backwardValue, sameValue, forwardValue"`);return}i=n<r?e[0]:n===r?e[1]:e[2],i&&t.viewTransition.types.add(i),t.viewTransition.types.add(t.type==="pageswap"?"old":"new")};var m=l;let s=p(),n=1,r=0;if(a.navigationType==="traverse"&&s.length===0)n=a.entry?.index,r=a.from?.index;else if(s.length){let e=i=>s.indexOf(new URL(i).pathname);n=e(a.entry?.url),r=e(a.from?.url),(n===-1||r===-1)&&(n=1,r=0)}l()}}function p(){let t=c.dataset.selector;return t?[...document.querySelectorAll(t)].map(a=>new URL(a.href??".",location.href).pathname):[]}"onpagereveal"in window&&addEventListener("pagereveal",u);"onpageswap"in window&&addEventListener("pageswap",u);})();
